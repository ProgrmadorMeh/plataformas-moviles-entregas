<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Archivos y Carpetas del Repo GitHub</title>
  <style>
    ul { list-style-type: none; }
    li { margin: 4px 0; }
  </style>
</head>
<body>
  <h1>Archivos y Carpetas del Repo GitHub</h1>
  <ul id="repo-content"></ul>

  <script>
    const owner = 'ProgrmadorMeh'; // Cambia por el dueño
    const repo = 'plataformas-moviles-entregas'; // Cambia por el repo
    const branch = 'main'; // Cambia si usás otra rama

    async function listarContenido(path = '') {
      const url = `https://api.github.com/repos/${owner}/${repo}/contents/${path}`;
      const response = await fetch(url);
      if (!response.ok) {
        console.error('Error al obtener contenido:', response.status);
        return [];
      }
      const data = await response.json();
      return data;
    }

    async function crearLista(path = '', ulElement) {
      const items = await listarContenido(path);
      for (const item of items) {
        const li = document.createElement('li');

        if (item.type === 'dir') {
            const urlIndex = `https://ProgrmadorMeh.github.io/plataformas-moviles-entregas/${item.path}/index.html`;
            li.innerHTML = `<a href="${urlIndex}" target="_blank">${item.name}</a>`;
        }else if (item.type === 'file') {
          li.innerHTML = `<a href="${item.download_url}" target="_blank">${item.name}</a>`;
        }
        ulElement.appendChild(li);
      }
    }

    // Inicializamos la lista
    const repoContent = document.getElementById('repo-content');
    crearLista('', repoContent);
  </script>
</body>
</html>
